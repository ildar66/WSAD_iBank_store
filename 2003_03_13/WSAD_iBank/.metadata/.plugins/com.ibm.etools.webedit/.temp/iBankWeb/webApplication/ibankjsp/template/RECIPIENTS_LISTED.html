<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<BASE href="file:///C:/WSAD_iBank/iBankWeb/webApplication/ibankjsp/template/RECIPIENTS_LISTED.jsp">
<META name="GENERATOR" content="IBM WebSphere Studio">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK href="file:///C:/WSAD_iBank/.metadata/.plugins/com.ibm.etools.webedit/.temp/iBankWeb/webApplication/theme/Master.css" rel="stylesheet" type="text/css">
<TITLE>IBANK - Клиент Онлайн - Справочники.</TITLE>
<!--META http-equiv=Content-Type content="text/html; charset=windows-1251"-->
<SCRIPT language=javascript src="../common/common.js" type=text/javascript></SCRIPT>
<SCRIPT language=JavaScript1.2 type=text/javascript>
window.onbeforeunload = unloadCheck;
window.setTimeout('window.onbeforeunload=null', 60000 * 10);
function unloadCheck()
{
	if(event.clientX > document.body.clientWidth && event.clientY < 0)
		return 'Внимание!\nДля выхода из системы \'IBank \' воспользуйтесь пунктом меню \'Выход\'.';
	else
		return;
}
</SCRIPT>

</HEAD>
<BODY>
<%@ page import="com.overstar.ildar.ibank.model.*" %>
<jsp:useBean id="userIBank" scope="session" class="com.overstar.ildar.ibank.model.IBank" type="com.overstar.ildar.ibank.model.IBank"/>
<%
//Execute Bean Methods 
java.util.Vector recipients = userIBank.getListRecipients();
Recipient curRecipient = null;
%>

<TABLE cellSpacing=0 cellPadding=0 width="100%" background="../images/bgtop.gif" border=0>
    <TBODY>
        <TR>
            <TD width=120><IMG height=51 alt="IBANK logo" src="../images/logo.gif" width=120 border=0></TD>
            <TD class=toptitle>• IBANK - Клиент Онлайн • Тест • <%=userIBank.getCurrentIClient().rtName_cln()%></TD>
            <TD class=toptitle align=right>• <A class=topmenu href="javascript:openHelp(window.location,'');">справка</A>&nbsp;</TD>
        </TR>
    </TBODY>
</TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" background="../images/hr2.gif" border=0>
    <TBODY>
        <TR>
            <TD width=120 background="../images/hr1.gif"><IMG height=15 alt="" src="../images/zagl1.gif" width=18></TD>
            <TD>&nbsp;</TD>
        </TR>
    </TBODY>
</TABLE>
<TABLE height="100%" cellSpacing=0 cellPadding=0 width="100%" border=0>
    <TBODY>
        <TR vAlign=top>
            <TD width=10 bgColor=#dcdee0>&nbsp;</TD>
            <TD class=menu width=110 bgColor=#dcdee0><A href="../CLIENT_INFO.jsp">Клиент</A><BR>
            <A href="../ACCOUNTS.jsp">Счета</A><BR>
            <A href="../DOCUMENTS.jsp">Документы</A><BR>
            <A href="../STATEMENTS.jsp">Выписки</A><BR>
            <A class=current href="../REFERENCES.jsp">Справочники</A><BR>
            <A href="../MESSAGES.jsp">Сообщения</A><BR>
            <A href="../REPORTS.jsp">Отчеты</A><BR>
            <A href="../SETUP.jsp">Настройки</A><BR>
            <A href="../READY_TO_USE.jsp">Выход</A><BR>
            </TD>
            <TD>
            <DIV class=title>Справочники</DIV>
            <DIV class=body><!-- --> <SCRIPT language=javascript src="Банк Клиент Онлайн - Справочники Корреспондентов_files/validate.js" type=text/javascript></SCRIPT> <SCRIPT language=javascript>
function MoveTo(n)
{ 
	var theForm = document.navform;
	theForm.pagenumber.value = n;
	theForm.submit();
}

function SortBy(field)
{
	var theForm = document.navform;
	theForm.sort.value = theForm.sort.value == field ? field + ' desc' : field;
	theForm.submit();
}

function AddNew()
{
	window.navigate('receiver.asp?referenceid=' + document.navform.referenceid.value);
}	

function Edit(id)
{
	window.navigate('receiver.asp?referenceid=' + document.navform.referenceid.value + '&rowid=' + escape(id));
}

function EditSel()
{
	var id, e = document.navform.elements;
	for(var i=0; i < e.length && id == null; i++)
		if(e[i].name=='rowid' && e[i].checked==true)
			id = e[i].value;
	if(id != null)
		Edit(id);
	else
		alert('Выберите строку для изменения.');
}
</SCRIPT>
            <FORM name=navform action=refbrowse.asp method=post>
            <P class=gridtitle>Справочник Корреспондентов</P>
            <TABLE class=grid>
                <TBODY>
                    <TR>
                        <TH noWrap><A title="Сортировать по полю 'Наименование'" href="javascript:SortBy('Title')">Наименование</A></TH>
                        <TH noWrap><A title="Сортировать по полю 'ИНН'" href="javascript:SortBy('INN')">ИНН</A></TH>
                        <TH noWrap><A title="Сортировать по полю 'Расчетный счет'" href="javascript:SortBy('Account')">Расчетный счет</A></TH>
                        <TH noWrap><A title="Сортировать по полю 'БИК'" href="javascript:SortBy('BIC')">БИК</A></TH>
                    </TR>
                    <TR>
                        <TD><INPUT type=checkbox value=1943 name=rowid><A title=Выбрать href="javascript:Edit('1943')">kkkkk</A></TD>
                        <TD>123456789012</TD>
                        <TD>86587658765876576489</TD>
                        <TD>040037470</TD>
                    </TR>
                    <TR>
                        <TD><INPUT type=checkbox value=1945 name=rowid><A title=Выбрать href="javascript:Edit('1945')">Отделение Федерального Казначейства</A></TD>
                        <TD>2901061108</TD>
                        <TD>40101810900000010001</TD>
                        <TD>041117001</TD>
                    </TR>
                    <TR>
                        <TD><INPUT type=checkbox value=1944 name=rowid><A title=Выбрать href="javascript:Edit('1944')">Подвинье ООО</A></TD>
                        <TD>2901069795</TD>
                        <TD>40702810004022467345</TD>
                        <TD>041117601</TD>
                    </TR>
                    <% for (int i=0; i  <  recipients.size(); i++){ curRecipient = (Recipient)recipients.elementAt(i); %>
                    <TR>
                        <TD><INPUT type="radio" name="recipientID" value="<%= curRecipient.getId().getIdAsString() %>"><%= curRecipient.rtName() %></TD>
                        <TD><%= curRecipient.rtInn() %></TD>
                        <TD><%= curRecipient.rtBill() %></TD>
                        <TD><%= curRecipient.rtBic() %></TD>
                    </TR>
                    <% } %>

                </TBODY>
            </TABLE>
            <BR>
            <TABLE class=gridfoot>
                <TBODY>
                    <TR>
                        <TD><INPUT onclick=AddNew() type=button value=Добавить> 
                            <INPUT onclick=EditSel() type=button value=Изменить> 
                            <INPUT type=submit value=Удалить name=btnaction> 
                            <INPUT type=submit value=Обновить name=btnrefresh> 
                            
                            <INPUT type=hidden value=1 name=pagenumber> 
                            <INPUT type=hidden value=1 name=pagecount> 
                            <INPUT type=hidden name=filter> 
                            <INPUT type=hidden name=sort> 
                            <INPUT type=hidden value=2 name=referenceid>
                        </TD>
                        <TD align=right>Всего записей <%=recipients.size()%>.</TD>
                    </TR>
                </TBODY>
            </TABLE>
            </FORM>
            <P></P>
            <!-- --></DIV>
            </TD>
        </TR>
    </TBODY>
</TABLE>
</BODY>
</HTML>
